<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Futuristic App Store UI (Frontend Only)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + ReactDOM + Babel (for JSX in browser) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      /* Simple neon, 3D & animation helpers */

      body {
        background: radial-gradient(circle at top, #0f172a, #020617 60%);
        color: #e5e7eb;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          sans-serif;
      }

      .bg-neon-grid {
        background-image: radial-gradient(circle at 1px 1px, #1e293b 1px, #020617 0);
        background-size: 24px 24px;
      }

      .float-slow {
        animation: float-slow 6s ease-in-out infinite;
      }

      .float-slow-delayed {
        animation: float-slow 8s ease-in-out infinite;
      }

      .spin-slow {
        animation: spin-slow 18s linear infinite;
      }

      @keyframes float-slow {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-12px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      @keyframes spin-slow {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .glass-panel {
        background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.2), transparent 50%),
          radial-gradient(circle at bottom right, rgba(236, 72, 153, 0.25), transparent 55%),
          rgba(15, 23, 42, 0.9);
        backdrop-filter: blur(18px);
      }

      .transition-soft {
        transition: all 0.25s ease-out;
      }

      .toggle-3d {
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.8);
      }

      .card-3d {
        box-shadow:
          0 28px 65px rgba(0, 0, 0, 0.9),
          0 0 40px rgba(56, 189, 248, 0.35);
      }

      .neon-border {
        border-image: linear-gradient(135deg, #22d3ee, #a855f7, #f97316) 1;
      }

      .neon-glow {
        box-shadow:
          0 0 20px rgba(56, 189, 248, 0.5),
          0 0 40px rgba(168, 85, 247, 0.4);
      }

      .scroll-smooth {
        scroll-behavior: smooth;
      }
    </style>
  </head>

  <body class="scroll-smooth">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      /**********************
       *  MOCK TYPES / DATA *
       **********************/
      const initialApps = [
        {
          id: "1",
          userId: "u1",
          appName: "Neon Tasks",
          shortDescription: "Hyper-fast daily productivity with glowing 3D UI.",
          longDescription:
            "Neon Tasks is a futuristic productivity app that gamifies your daily to-do with streaks, XP and smooth 3D transitions. Manage projects, create routines and keep everything in a glowing neon workspace.",
          category: "Productivity",
          fileName: "neon_tasks_1.0.apk",
          fileSize: "18.2 MB",
          iconUrl: "",
          screenshots: [],
          versionName: "1.0.0",
          versionCode: "100",
          status: "published",
          createdAt: "2025-11-01T10:00:00Z",
          rejectedReason: null,
        },
        {
          id: "2",
          userId: "u2",
          appName: "Galaxy Finance",
          shortDescription: "Visualize your money like galaxies in space.",
          longDescription:
            "Galaxy Finance turns your finances into a 3D galaxy of planets and stars. Each category, budget and goal becomes a glowing world you can zoom into.",
          category: "Finance",
          fileName: "galaxy_finance_2.1.apk",
          fileSize: "24.7 MB",
          iconUrl: "",
          screenshots: [],
          versionName: "2.1.3",
          versionCode: "213",
          status: "pending",
          createdAt: "2025-11-05T15:30:00Z",
          rejectedReason: null,
        },
        {
          id: "3",
          userId: "u1",
          appName: "Pulse Notes",
          shortDescription: "Minimal notes app with heartbeat animations.",
          longDescription:
            "Pulse Notes keeps your ideas alive with pulsing gradients and smooth transitions. Organize notes quickly and beautifully.",
          category: "Tools",
          fileName: "pulse_notes_0.9.apk",
          fileSize: "9.5 MB",
          iconUrl: "",
          screenshots: [],
          versionName: "0.9.0",
          versionCode: "90",
          status: "rejected",
          createdAt: "2025-11-07T09:00:00Z",
          rejectedReason: "Design not consistent with guidelines.",
        },
      ];

      const categoriesList = [
        "All",
        "Productivity",
        "Finance",
        "Tools",
        "Games",
        "Lifestyle",
        "Education",
        "Entertainment",
      ];

      /**********************
       *  SMALL UI HELPERS  *
       **********************/

      const Badge = ({ status }) => {
        const map = {
          published: "bg-emerald-500/15 text-emerald-300 border-emerald-400/70",
          pending: "bg-yellow-500/10 text-yellow-200 border-yellow-400/70",
          approved: "bg-sky-500/10 text-sky-200 border-sky-400/70",
          rejected: "bg-rose-500/10 text-rose-200 border-rose-400/70",
        };
        return (
          <span
            className={
              "text-[10px] px-2 py-0.5 rounded-full border font-medium tracking-wide " +
              (map[status] || "bg-slate-500/10 text-slate-200 border-slate-400/70")
            }
          >
            {String(status).toUpperCase()}
          </span>
        );
      };

      const AppCard = ({ app, onClick }) => {
        return (
          <div
            onClick={onClick}
            className="relative card-3d transition-soft cursor-pointer rounded-3xl glass-panel border border-slate-700/70 hover:-translate-y-2 hover:rotate-[0.5deg] hover:border-cyan-400/80"
          >
            <div className="absolute -inset-px rounded-3xl opacity-40 pointer-events-none">
              <div className="w-full h-full bg-[radial-gradient(circle_at_top,_rgba(56,189,248,0.35),transparent_55%),radial-gradient(circle_at_bottom,_rgba(168,85,247,0.35),transparent_55%)]" />
            </div>
            <div className="relative z-10 p-4 flex gap-4">
              <div className="h-14 w-14 rounded-2xl bg-gradient-to-br from-cyan-500/40 to-fuchsia-500/40 flex items-center justify-center text-xl font-bold neon-glow">
                {app.appName[0]}
              </div>
              <div className="flex-1 space-y-1">
                <div className="flex items-start justify-between gap-2">
                  <h3 className="font-semibold text-sm md:text-base">
                    {app.appName}
                  </h3>
                  <Badge status={app.status} />
                </div>
                <p className="text-xs text-slate-300 line-clamp-2">
                  {app.shortDescription}
                </p>
                <div className="flex justify-between items-center pt-1">
                  <span className="text-[11px] text-sky-300/80">
                    {app.category}
                  </span>
                  <span className="text-[11px] text-slate-400">
                    v{app.versionName || app.version_name || "1.0.0"}
                  </span>
                </div>
              </div>
            </div>
          </div>
        );
      };

      const Toggle3D = ({ label, value, onChange, disabled }) => {
        return (
          <div className="flex items-center justify-between gap-4 py-1.5">
            <span className="text-xs md:text-sm">{label}</span>
            <button
              type="button"
              disabled={disabled}
              onClick={() => !disabled && onChange(!value)}
              className={
                "relative h-8 w-16 rounded-full bg-slate-900/90 border border-slate-600/80 flex items-center toggle-3d transition-soft " +
                (disabled ? "opacity-30 cursor-not-allowed" : "cursor-pointer")
              }
            >
              <div
                className={
                  "absolute inset-0 rounded-full transition-soft " +
                  (value
                    ? "bg-gradient-to-r from-cyan-500/60 via-sky-500/40 to-fuchsia-500/60"
                    : "bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800")
                }
              ></div>
              <div
                className={
                  "relative z-10 h-6 w-6 rounded-full bg-slate-100 shadow-lg transform transition-soft " +
                  (value ? "translate-x-8" : "translate-x-1")
                }
              ></div>
            </button>
          </div>
        );
      };

      /**********************
       *      PAGES         *
       **********************/

      const HomePage = ({
        apps,
        onOpenDetails,
        search,
        setSearch,
        onGoUpload,
      }) => {
        const filtered = apps.filter((a) => {
          const q = search.toLowerCase();
          return (
            a.appName.toLowerCase().includes(q) ||
            a.shortDescription.toLowerCase().includes(q) ||
            a.category.toLowerCase().includes(q)
          );
        });

        return (
          <div className="px-4 md:px-8 py-5 space-y-6">
            {/* Floating parallax background circles */}
            <div className="fixed inset-0 -z-10 pointer-events-none overflow-hidden">
              <div className="absolute -top-32 -left-24 h-64 w-64 rounded-full bg-cyan-500/20 blur-3xl float-slow"></div>
              <div className="absolute top-10 right-[-5rem] h-72 w-72 rounded-full bg-fuchsia-500/20 blur-3xl float-slow-delayed"></div>
              <div className="absolute bottom-[-6rem] left-1/2 -translate-x-1/2 h-72 w-72 rounded-full bg-sky-500/10 blur-3xl"></div>
            </div>

            {/* 3D Search bar */}
            <div className="max-w-3xl mx-auto">
              <div className="relative float-slow">
                <div className="absolute -inset-[2px] rounded-3xl bg-gradient-to-r from-cyan-500 via-fuchsia-500 to-indigo-500 blur-xl opacity-70"></div>
                <div className="relative glass-panel rounded-3xl border border-slate-700/80 px-4 py-3 md:px-6 md:py-4 flex items-center gap-3 shadow-2xl">
                  <span className="text-xl md:text-2xl text-cyan-300">üîç</span>
                  <input
                    placeholder="Search neon apps..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                    className="bg-transparent flex-1 text-sm md:text-base outline-none placeholder:text-slate-500"
                  />
                  <button
                    onClick={onGoUpload}
                    className="text-xs md:text-sm px-3 py-1.5 rounded-full border border-cyan-400/70 text-cyan-200 hover:bg-cyan-500/15 transition-soft"
                  >
                    + Upload
                  </button>
                </div>
              </div>
            </div>

            {/* Rotating categories */}
            <div className="flex flex-col items-center gap-3">
              <div className="relative h-32 w-72 md:h-40 md:w-96 flex items-center justify-center">
                <div className="absolute h-24 w-24 md:h-32 md:w-32 rounded-full border border-slate-600/70 bg-slate-900/60"></div>
                <div className="absolute h-40 w-40 md:h-52 md:w-52 rounded-full border border-cyan-500/40 spin-slow"></div>

                {categoriesList
                  .filter((c) => c !== "All")
                  .map((cat, index) => {
                    const angle = (index / (categoriesList.length - 1)) * 2 * Math.PI;
                    const radius = 80;
                    const x = Math.cos(angle) * radius;
                    const y = Math.sin(angle) * radius;
                    return (
                      <button
                        key={cat}
                        onClick={() => setSearch(cat === "All" ? "" : cat)}
                        className="absolute text-[10px] md:text-xs px-2.5 py-1 rounded-full bg-slate-900/90 border border-slate-600/70 hover:border-cyan-400/80 transition-soft shadow-lg"
                        style={{
                          transform: `translate(${x}px, ${y}px)`,
                        }}
                      >
                        {cat}
                      </button>
                    );
                  })}
              </div>
              <p className="text-[11px] text-slate-400 uppercase tracking-[0.2em]">
                3D ROTATING CATEGORIES
              </p>
            </div>

            {/* App list */}
            <div className="space-y-3">
              <div className="flex justify-between items-center">
                <h2 className="text-lg md:text-xl font-semibold">
                  Trending & New
                </h2>
                <span className="text-[11px] text-slate-400">
                  Showing {filtered.length} apps
                </span>
              </div>
              {filtered.length === 0 ? (
                <div className="glass-panel rounded-2xl border border-slate-700/80 px-4 py-6 text-sm text-slate-300 text-center">
                  No apps match your search yet.
                </div>
              ) : (
                <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                  {filtered.map((app) => (
                    <AppCard
                      key={app.id}
                      app={app}
                      onClick={() => onOpenDetails(app)}
                    />
                  ))}
                </div>
              )}
            </div>
          </div>
        );
      };

      const CategoriesPage = ({ apps, onOpenDetails }) => {
        return (
          <div className="px-4 md:px-8 py-5 space-y-4">
            <h2 className="text-lg md:text-xl font-semibold mb-2">Categories</h2>
            <div className="grid md:grid-cols-4 gap-4 mb-4">
              {categoriesList.map((cat) => (
                <div
                  key={cat}
                  className="glass-panel rounded-3xl border border-slate-700/80 p-4 flex items-center justify-between hover:border-cyan-400/80 transition-soft"
                >
                  <span className="text-sm">{cat}</span>
                  <span className="text-[11px] text-slate-400">
                    {
                      (cat === "All"
                        ? apps
                        : apps.filter((a) => a.category === cat)
                      ).length
                    }{" "}
                    apps
                  </span>
                </div>
              ))}
            </div>

            <div className="space-y-3">
              <h3 className="text-sm font-semibold text-slate-200">
                All Published Apps
              </h3>
              <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                {apps
                  .filter((a) => a.status === "published")
                  .map((app) => (
                    <AppCard
                      key={app.id}
                      app={app}
                      onClick={() => onOpenDetails(app)}
                    />
                  ))}
              </div>
            </div>
          </div>
        );
      };

      const AppDetailsPage = ({ app, isOwner }) => {
        if (!app) {
          return (
            <div className="p-6 text-sm text-slate-300">
              Select an app from Home or Categories.
            </div>
          );
        }

        return (
          <div className="px-4 md:px-8 py-5">
            <div className="grid lg:grid-cols-3 gap-6">
              {/* Left: icon + meta */}
              <div className="lg:col-span-1">
                <div className="relative card-3d glass-panel rounded-3xl border border-slate-700/80 p-5">
                  <div className="absolute -inset-px rounded-3xl opacity-30 pointer-events-none bg-[radial-gradient(circle_at_top,_rgba(34,211,238,0.5),transparent_55%),radial-gradient(circle_at_bottom,_rgba(244,63,94,0.4),transparent_55%)]"></div>
                  <div className="relative z-10 flex flex-col items-center text-center gap-3">
                    <div className="h-20 w-20 rounded-3xl bg-gradient-to-br from-cyan-500 to-fuchsia-500 flex items-center justify-center text-2xl font-bold float-slow neon-glow">
                      {app.appName[0]}
                    </div>
                    <div>
                      <h2 className="text-lg font-semibold">{app.appName}</h2>
                      <p className="text-xs text-slate-400 mt-1">
                        {app.category}
                      </p>
                    </div>
                    <div className="flex items-center gap-3 text-[11px] text-slate-300">
                      <Badge status={app.status} />
                      <span>v{app.versionName || app.version_name || "1.0.0"}</span>
                    </div>
                    <div className="w-full mt-3 text-xs text-slate-300 space-y-1">
                      <div className="flex justify-between">
                        <span>File</span>
                        <span>{app.fileName || "app_release.apk"}</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Size</span>
                        <span>{app.fileSize || "‚Äî"}</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Uploaded</span>
                        <span>{new Date(app.createdAt).toLocaleDateString()}</span>
                      </div>
                    </div>

                    {/* Download (dummy) */}
                    <button className="mt-3 text-xs px-4 py-2 rounded-full border border-sky-400/80 text-sky-100 hover:bg-sky-500/20 transition-soft">
                      Download (Demo)
                    </button>

                    {/* Publish button is intentionally HIDDEN for normal users.
                        If you want to show something special for owner in future,
                        you can use isOwner here. */}
                    {isOwner && (
                      <div className="mt-2 text-[11px] text-amber-300/80 italic">
                        (Owner sees internal controls here in real backend.)
                      </div>
                    )}
                  </div>
                </div>
              </div>

              {/* Right: description + screenshots */}
              <div className="lg:col-span-2 space-y-5">
                <div className="glass-panel rounded-3xl border border-slate-700/80 p-5">
                  <h3 className="text-sm font-semibold mb-2">
                    Description
                  </h3>
                  <p className="text-xs md:text-sm text-slate-200 leading-relaxed">
                    {app.longDescription}
                  </p>
                </div>

                <div className="glass-panel rounded-3xl border border-slate-700/80 p-5">
                  <div className="flex justify-between items-center mb-3">
                    <h3 className="text-sm font-semibold">Screenshots</h3>
                    <span className="text-[11px] text-slate-400">
                      (Static demo slider)
                    </span>
                  </div>
                  <div className="grid grid-cols-3 gap-3">
                    {[1, 2, 3].map((n) => (
                      <div
      
